#!/usr/bin/env bash
#
# Sync ~/bin scripts

# -----------------------------------------------------------------------------
# | Errors                                                                     |
# -----------------------------------------------------------------------------

declare -r E_RSYNC_FAILURE=101

# -----------------------------------------------------------------------------
# | Global variables                                                           |
# -----------------------------------------------------------------------------



# -----------------------------------------------------------------------------
# | Functions                                                                  |
# -----------------------------------------------------------------------------



# -----------------------------------------------------------------------------
# | Main                                                                       |
# -----------------------------------------------------------------------------

main() {
    # switch path to script source
    cd "$(dirname "${BASH_SOURCE}")" \
        && source "../script/utils.sh"

    print_section "Syncing scripts"

    rsync -avh --no-perms "../bin" "${HOME}" >> "${HOME}/dotfiles/dot_stderr.log" 2>&1 > /dev/null
    status "Finished syncing scripts" "${E_RSYNC_FAILURE}"
}

main "$1"
