#!/usr/bin/env bash
#
# Install apps

# -----------------------------------------------------------------------------
# | Errors                                                                     |
# -----------------------------------------------------------------------------

declare -r E_INSTALL_FAILURE=101

# -----------------------------------------------------------------------------
# | Global variables                                                           |
# -----------------------------------------------------------------------------

declare -r -a APPS=(
    'chrome',
    'sublime'
)

# -----------------------------------------------------------------------------
# | Functions                                                                  |
# -----------------------------------------------------------------------------

install_apps() {
    for i in "${APPS[@]}"; do
        if [[ (-n "$i.sh") && (-e "./$i.sh") ]]; then
            ./"$i.sh"
            status "Finished $i" "${E_INSTALL_FAILURE}"
            print_separator
        fi
    done
}

# -----------------------------------------------------------------------------
# | Main                                                                       |
# -----------------------------------------------------------------------------

main() {
    # switch path to script source
    cd "$(dirname "${BASH_SOURCE}")" \
        && source "../../../script/utils.sh"

    install_apps
    exit_on_fail "App install failed"
}

main "$1"
